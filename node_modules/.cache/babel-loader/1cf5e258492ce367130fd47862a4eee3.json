{"ast":null,"code":"import _slicedToArray from \"/Users/quique/Mis cosas/Workspaces/PersonalProjects/basics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/quique/Mis cosas/Workspaces/PersonalProjects/basics/src/components/pages/Home.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { List } from '@material-ui/core';\nimport { ListItem } from '@material-ui/core';\nimport { ListItemAvatar } from '@material-ui/core';\nimport { Avatar } from '@material-ui/core';\nimport { ListItemText } from '@material-ui/core';\nimport PublicIcon from '@material-ui/icons/Public';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport { Box } from '@material-ui/core';\nimport { AppBar } from '@material-ui/core';\nimport { Toolbar } from '@material-ui/core';\nimport EuroSymbolIcon from '@material-ui/icons/EuroSymbol';\nimport { Link } from 'react-router-dom';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { Icon } from \"leaflet\";\nimport 'leaflet/dist/leaflet.css';\nimport markerIconPng from \"leaflet/dist/images/marker-icon.png\";\nimport markerLocation from \"./Location.png\";\nimport markerWater from \"./Drinking_water.png\"; //import dataJson from \"./fuentes.json\";\n\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { Fab } from '@material-ui/core';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Home = function Home() {\n  _s();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userLat = _React$useState4[0],\n      setUserLat = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userLon = _React$useState6[0],\n      setUserLon = _React$useState6[1];\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      position = _React$useState8[0],\n      setPosition = _React$useState8[1];\n\n  var userLatV = 48.864716;\n  var userLonV = 2.349;\n  useEffect(function () {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      setUserLat(position.coords.latitude);\n      setUserLon(position.coords.longitude);\n      userLatV = position.coords.latitude;\n      userLonV = position.coords.longitude;\n      console.log(\"Latitude is :\", userLatV);\n      console.log(\"Longitude is :\", userLonV); //var body = \"data=[out:json];node[amenity = drinking_water](around: 6000, 48.864716, 2.349);out;\"\n\n      var body = \"data=[out:json];node[amenity = drinking_water](around: 2000,\" + position.coords.latitude + \",\" + position.coords.longitude + \");out;\";\n      var url = \"http://overpass-api.de/api/interpreter\";\n      axios({\n        method: \"post\",\n        url: url,\n        data: body\n      }).then(function (response) {\n        //console.log(response);\n        setData(response.data.elements);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    });\n  }, []); //const centerMap = [48.864716, 2.349];// Paris position\n\n  var centerMapLat = 48.864716;\n  var centerMapLon = 2.349; //console.log(dataJson.elements);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        height: \"100vh\"\n      },\n      children: [userLat != null && userLon != null && /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [userLat, userLon],\n        zoom: 13,\n        scrollWheelZoom: false,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: [userLat, userLon],\n          icon: new Icon({\n            iconUrl: markerLocation,\n            iconSize: [25, 25]\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, _this), data.map(function (value, key) {\n          return /*#__PURE__*/_jsxDEV(Marker, {\n            position: [value.lat, value.lon],\n            icon: new Icon({\n              iconUrl: markerWater,\n              iconSize: [30, 30],\n              iconAnchor: [20, 20]\n            })\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 37\n          }, _this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(Fab, {\n        color: \"primary\",\n        \"aria-label\": \"add\",\n        style: {\n          margin: 0,\n          top: 'auto',\n          right: 20,\n          bottom: 20,\n          left: 'auto',\n          position: 'fixed',\n          zIndex: '9'\n        },\n        children: /*#__PURE__*/_jsxDEV(CachedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Home, \"HUx/LpagXPqjtLLqAA1hNG/RyxQ=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/quique/Mis cosas/Workspaces/PersonalProjects/basics/src/components/pages/Home.js"],"names":["React","Component","Typography","List","ListItem","ListItemAvatar","Avatar","ListItemText","PublicIcon","FlagIcon","Box","AppBar","Toolbar","EuroSymbolIcon","Link","MapContainer","TileLayer","Marker","Popup","Icon","markerIconPng","markerLocation","markerWater","useEffect","axios","Fab","CachedIcon","Home","useState","data","setData","userLat","setUserLat","userLon","setUserLon","position","setPosition","userLatV","userLonV","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","console","log","body","url","method","then","response","elements","catch","error","centerMapLat","centerMapLon","height","iconUrl","iconSize","map","value","key","lat","lon","iconAnchor","margin","top","right","bottom","left","zIndex"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'\nimport { Typography } from '@material-ui/core';\nimport { List } from '@material-ui/core';\nimport { ListItem } from '@material-ui/core';\nimport { ListItemAvatar } from '@material-ui/core';\nimport { Avatar } from '@material-ui/core';\nimport { ListItemText } from '@material-ui/core';\nimport PublicIcon from '@material-ui/icons/Public';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport { Box } from '@material-ui/core';\nimport { AppBar } from '@material-ui/core';\nimport { Toolbar } from '@material-ui/core';\nimport EuroSymbolIcon from '@material-ui/icons/EuroSymbol';\nimport { Link } from 'react-router-dom';\n\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { Icon } from \"leaflet\";\nimport 'leaflet/dist/leaflet.css';\nimport markerIconPng from \"leaflet/dist/images/marker-icon.png\"\nimport markerLocation from \"./Location.png\"\nimport markerWater from \"./Drinking_water.png\"\n\n//import dataJson from \"./fuentes.json\";\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { Fab } from '@material-ui/core';\nimport CachedIcon from '@material-ui/icons/Cached';\n\n\nconst Home = () => {\n\n    const [data, setData] = React.useState([]);\n    const [userLat, setUserLat] = React.useState(null);\n    const [userLon, setUserLon] = React.useState(null);\n    const [position, setPosition] = React.useState(null);\n\n    var userLatV = 48.864716;\n    var userLonV = 2.349;\n\n    useEffect(() => {\n\n        navigator.geolocation.getCurrentPosition(function (position) {\n            setUserLat(position.coords.latitude);\n            setUserLon(position.coords.longitude);\n            userLatV = position.coords.latitude;\n            userLonV = position.coords.longitude;\n            console.log(\"Latitude is :\", userLatV);\n            console.log(\"Longitude is :\", userLonV);\n\n\n            //var body = \"data=[out:json];node[amenity = drinking_water](around: 6000, 48.864716, 2.349);out;\"\n            var body = \"data=[out:json];node[amenity = drinking_water](around: 2000,\" + position.coords.latitude + \",\" + position.coords.longitude + \");out;\"\n            var url = \"http://overpass-api.de/api/interpreter\";\n\n            axios({\n                method: \"post\",\n                url: url,\n                data: body,\n            })\n                .then(function (response) {\n                    //console.log(response);\n                    setData(response.data.elements)\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(error);\n                })\n\n\n        });\n\n        \n\n    }, []);\n\n    //const centerMap = [48.864716, 2.349];// Paris position\n    const centerMapLat = 48.864716;\n    const centerMapLon = 2.349;\n\n    //console.log(dataJson.elements);\n\n    return (\n        <div >\n            <Box style={{ height: \"100vh\" }}>\n                {userLat != null && userLon!= null &&\n                    <MapContainer center={[userLat, userLon]} zoom={13} scrollWheelZoom={false}>\n                        <TileLayer\n                            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        />\n\n                        <Marker\n                            position={[userLat, userLon]}\n                            icon={new Icon({ iconUrl: markerLocation, iconSize: [25, 25] })}\n                        >\n                        </Marker>\n\n                        {\n                            data.map((value, key) => {\n                                return (\n                                    <Marker\n                                        key={key}\n                                        position={[value.lat, value.lon]}\n                                        icon={new Icon({ iconUrl: markerWater, iconSize: [30, 30], iconAnchor: [20, 20] })}\n                                    >\n                                    </Marker>\n                                )\n                            })\n                        }\n                    </MapContainer>\n\n                }\n                <Fab color=\"primary\" aria-label=\"add\" style={{\n                    margin: 0,\n                    top: 'auto',\n                    right: 20,\n                    bottom: 20,\n                    left: 'auto',\n                    position: 'fixed',\n                    zIndex: '9',\n                }}>\n                    <CachedIcon />\n                </Fab>\n            </Box>\n            \n        </div>\n    )\n    \n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}